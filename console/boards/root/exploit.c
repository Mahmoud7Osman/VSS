#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include "colors.h"
#include <string.h>


int fatal(char msg[]){
    printf("%s%lu%s: %s\n",KRED,strlen(msg),KNRM,msg);
    exit(1);
}

int print(char i[],char mag[]){
    printf("%s%s%s %s\n",KBLU,i,KNRM,mag);
}

int main(int argc, char *argv[]){
    if (argc!=3){fatal("No Enough Argument: 1<ip> 2<port>");}
    char ip[16],port[6];
    strcpy(ip,argv[1]);
    strcpy(port,argv[2]);
    strncat(ip,"\0",1);
    strncat(port,"\0",1);
    char command[28]="nc -lt ";
    char address[21];
    sprintf(address, "%s %s", ip, port);
    strcat(command,address);
    printf("%s[V7X]%s Started Listenning on %s port %s .\n",KYEL,KNRM,ip,port);
    print("[i]","Waiting For Execution...");
    system(command);

}
